module.exports = (req, res, next, data) => res.send(`
  ${require('./header.html')()}
    <appkit-app>
      <nav-breadcrumb size="small">
        <ul>
          <li>
              <i class="fa fa-cubes" aria-hidden="true"></i> 
              Home
          </li>
        </ul>
      </nav-breadcrumb>
      <div class="table-list">
      ${data.rows.map((row) => `
        <div class="table-list-item">
          <div style="max-width:25px;align-self:center;display:inline-flex;padding-left:0.75rem;">
            <img src="/${row.type.split('/').join('.')}.svg" style="max-width:25px;"/>
          </div>
          <div>
            <a style="display:block;" href="/ui/${row.type.replace('.', '/')}/${row.node}">
              ${row.labels && row.labels.name ? row.labels.name : row.name}
              ${row.labels && row.labels.name ? `<sub style="vertical-align:initial;">(${row.name})</sub>` : ``}
            </a>
            <sub style="display:block;">Last seen ${row.observed_on.toLocaleString()}</sub>
          </div>
          <div style="text-align:right;">
            ${row.labels ? Object.keys(row.labels).map((key) => `
            <a class="pill" href="?${data.cursor.template}&labels=${key}">
              <i class="fa fa-tag" aria-hidden="true"></i> 
              ${key}
              <span class="inner">${row.labels[key]}</span>
            </a>
            `).join("") : ''}
            ${row.status ? Object.keys(row.status).map((key) => !key.startsWith("max_") ? `
            <span class="pill subtle">
              ${key.split("_").map(x => x[0].toUpperCase() + x.substring(1).toLowerCase()).join(" ")}
              <span class="inner">${row.status['max_' + key] ? row.status[key] + '/' + row.status['max_' + key] : row.status[key]}</span>
            </span>
            ` : '').filter((x) => x !== '').join("") : ''}
          </div>
        </div>
      `).join('')}
      </div>
      ${require('./pagination.html')(req, data)}
    </appkit-app>
  ${require('./footer.html')(req, res)}
`);