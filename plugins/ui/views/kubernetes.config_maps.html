const {formatBytes} = require('../../../common/format.js');
module.exports = (req, res, next, data) => res.send(`
  ${require('./header.html')(req)}
    <appkit-app>
      ${require('./object-header.html')(req, data, 'Config Maps', 'fa-map', `/ui/kubernetes/config_maps/${data.config_map}`, data.config_map, 'kubernetes/config_maps')}
      <div>
        <h2>${data.human_name}</h2>
        <dl class="facts">
          ${data.definition && data.definition.spec ? `
          <dt>Namespace</dt>
          <dd>${data.definition.metadata.namespace}</dd>
          <dt>UID</dt>
          <dd>${data.definition.metadata.uid}</dd>
          ` : ''}
          <dt>Context</dt>
          <dd>${data.context}</dd>
          <dt>Scanned</dt>
          <dd>${new Date(data.observed_on).toLocaleString()}</dd>
        </dl>
      </div>
      <x-tabs>
        <x-tab><a href="#metadata">Metadata</a></x-tab>
        <x-tab><a href="#changes">Changes</a></x-tab>
        <x-tab><a href="#used_by">Used By</a></x-tab>
        <x-tab><a href="#definition">Definition</a></x-tab>
      </x-tabs>
      <div name="metadata" class="tab-panel list">
        ${require('./labels.html')(req, data, `/ui/kubernetes/config_maps/${data.config_map}`)}
        ${require('./annotations.html')(req, data, `/ui/kubernetes/config_maps/${data.config_map}`)}
      </div>
      <div name="changes" class="tab-panel list">
        ${require('./changes.html')(req, data)}
      </div>
      <div name="used_by" class="list tab-panel"> 
        ${require('./used_by.html')(req, data)}
      </div>
      <div name="definition" class="tab-panel">
        <pre><code class="hljs json">${JSON.stringify(data.definition, null, 2)}</code></pre>
      </div>
    </appkit-app>
  ${require('./footer.html')(req, res)}
`);